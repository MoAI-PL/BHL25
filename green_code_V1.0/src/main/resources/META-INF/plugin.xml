<idea-plugin>
    <id>com.hackathon.eco</id>
    <name>Green Coding Assistant</name>
    <vendor>MoAI</vendor>

    <description><![CDATA[
      This project is a PyCharm plugin prototype designed to act as a "Green Coding Assistant," helping developers write energy-efficient Python code. It combines real-time static analysis (using eco-code-analyzer) to highlight code inefficiencies directly in the editor as you type, with runtime emissions tracking (using CodeCarbon) to measure and display the actual carbon footprint of your script after it runs.
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.python</depends>

    <extensions defaultExtensionNs="com.intellij">
        <annotator language="Python" implementationClass="com.hackathon.eco.EcoAnnotator"/>
        
        <!-- Tool Window on left sidebar -->
        <toolWindow id="Green Coding"
                    anchor="left"
                    secondary="true"
                    factoryClass="com.hackathon.eco.EcoToolWindowFactory"/>
        
        <!-- Project service for sharing eco scores -->
        <projectService serviceImplementation="com.hackathon.eco.EcoScoreService"/>
    </extensions>

    <actions>
        <!-- Static eco-code analysis using eco-code-analyzer -->
        <action id="com.hackathon.eco.EcoRun"
                class="com.hackathon.eco.EcoRun"
                text="ðŸŒ¿ Analyze Eco Efficiency"
                icon="/icons/eco_analyze.svg"
                description="Analyze code for energy efficiency issues using eco-code-analyzer">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <keyboard-shortcut keymap="$default" first-keystroke="alt E"/>
        </action>
        
        <!-- Runtime carbon tracking using CodeCarbon -->
        <action id="com.hackathon.eco.EcoRunWithTracking"
                class="com.hackathon.eco.EcoRunWithTracking"
                text="ðŸŒ Run &amp; Track COâ‚‚"
                icon="/icons/eco_run.svg"
                description="Execute Python code and track actual carbon emissions using CodeCarbon">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="com.hackathon.eco.EcoRun"/>
            <keyboard-shortcut keymap="$default" first-keystroke="alt shift E"/>
        </action>
    </actions>
</idea-plugin>
